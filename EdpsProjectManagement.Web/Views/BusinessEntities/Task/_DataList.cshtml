@using MetaShare.Common.Core.Presentation
@using EdpsProjectManagement.Entities
@using EdpsProjectManagement.Web.HtmlExtensions
@using EdpsProjectManagement.Web.Models
<!--add customized code between this region--><!--add customized code between this region-->
@model IndexViewModel<EdpsProjectManagement.Entities.BusinessEntities.Task>

        <table class="table table-striped table-bordered table-hover">
            <thead>
            <tr>
		<th class="text-left">Name</th>
		<th class="text-left">Iteration</th>
		<th class="text-left">Project</th>
		<th class="text-left">Repository</th>
		<th class="text-left">ActualHours</th>
		<th class="text-left">Assignee</th>
		<th class="text-left">EstimateHours</th>
		<th class="text-left">ImportDateTime</th>
		<th class="text-left">Label</th>
		<th class="text-left">ReleaseTarget</th>
		<th class="text-left">RemainHours</th>
		<th class="text-left">Status</th>
		<th class="text-left">UniqueLink</th>
		<th class="text-left">WorkDate</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            @if (Model.TargetPager != null && Model.TargetPager.Datas != null)
            {
                foreach (EdpsProjectManagement.Entities.BusinessEntities.Task item in Model.TargetPager.Datas)
                {
                <tr>
			<td class="text-left">
				@Html.DisplayFor(modelItem => item.Name)
			</td>
			<td class="text-left">
				@Html.DisplayFor(modelItem => item.Iteration.Name)
			</td>
			<td class="text-left">
				@Html.DisplayFor(modelItem => item.Project.Name)
			</td>
			<td class="text-left">
				@Html.DisplayFor(modelItem => item.Repository.Name)
			</td>
			<td class="text-left">
				@Html.DisplayFor(modelItem =>item.ActualHours)
			</td>
			<td class="text-left">
				@Html.DisplayFor(modelItem =>item.Assignee)
			</td>
			<td class="text-left">
				@Html.DisplayFor(modelItem =>item.EstimateHours)
			</td>
			<td class="text-left">
				@(item.ImportDateTime == DateTime.MinValue ? String.Empty : item.ImportDateTime.ToShortDateString())
			</td>
			<td class="text-left">
				@Html.DisplayFor(modelItem =>item.Label)
			</td>
			<td class="text-left">
				@Html.DisplayFor(modelItem =>item.ReleaseTarget)
			</td>
			<td class="text-left">
				@Html.DisplayFor(modelItem =>item.RemainHours)
			</td>
			<td class="text-left">
				@Html.DisplayFor(modelItem =>item.Status)
			</td>
			<td class="text-left">
				@Html.DisplayFor(modelItem =>item.UniqueLink)
			</td>
			<td class="text-left">
				@(item.WorkDate == DateTime.MinValue ? String.Empty : item.WorkDate.ToShortDateString())
			</td>
                    <td>
                        @Html.ActionLink(" ", "Details", new { id = item.Id, Controller = "Task", area = "EdpsProjectManagement.Web.Views.BusinessEntities"}, new {@class="m_details", title="Details" })
                        @Html.ActionLink(" ", "Edit", new { id = item.Id, Controller = "Task", area = "EdpsProjectManagement.Web.Views.BusinessEntities"}, new {@class="m_edit", title="Edit" })
                        @Html.ActionLink(" ", "#", "#", "", new {href = "javascript:void(0);",@class="m_delete", title="Delete", onclick = " javascript:metaShare.basic.prototype.deleteTableColumn(this,'" + item.Id + "','" + Url.Action("Delete",new {Controller = "Task", area = "EdpsProjectManagement.Web.Views.BusinessEntities"}) + "'); return false; "})
                        @Html.ActionLink(" ", "ViewHistories", new { id = item.Id, Controller = "Task", area = "EdpsProjectManagement.Web.Views.BusinessEntities"}, new {@class="m_history", title="Histories" })
                    </td>
                </tr>
              }
            }
            </tbody>
        </table>


        <div class="UserPagerDiv text-center">
    @{
        object conditions = new
        {
            Name = Model.SearchModel != null ? Model.SearchModel.Name : "",
        };
    }
        @Html.AjaxRenderPager(Model.TargetPager, "Search", "Task","Task_DataList", conditions)
        </div>
